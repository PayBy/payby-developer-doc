<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Online Payment Integration/test-case">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.22">
<link rel="alternate" type="application/rss+xml" href="/payby-developer-doc/blog/rss.xml" title="Integrate PayBy and Accept Payment RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/payby-developer-doc/blog/atom.xml" title="Integrate PayBy and Accept Payment Atom Feed"><title data-rh="true">Test case | Integrate PayBy and Accept Payment</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://kunlongxu.github.io/payby-developer-doc/docs/Online Payment Integration/test-case"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Test case | Integrate PayBy and Accept Payment"><meta data-rh="true" name="description" content="Use the following integration cases to review your integration qualities. To create a good user experience, ensure that the common payment scenarios are properly handled."><meta data-rh="true" property="og:description" content="Use the following integration cases to review your integration qualities. To create a good user experience, ensure that the common payment scenarios are properly handled."><link data-rh="true" rel="icon" href="/payby-developer-doc/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://kunlongxu.github.io/payby-developer-doc/docs/Online Payment Integration/test-case"><link data-rh="true" rel="alternate" href="https://kunlongxu.github.io/payby-developer-doc/docs/Online Payment Integration/test-case" hreflang="en"><link data-rh="true" rel="alternate" href="https://kunlongxu.github.io/payby-developer-doc/docs/Online Payment Integration/test-case" hreflang="x-default"><link rel="stylesheet" href="/payby-developer-doc/assets/css/styles.2554a396.css">
<link rel="preload" href="/payby-developer-doc/assets/js/runtime~main.996e3fce.js" as="script">
<link rel="preload" href="/payby-developer-doc/assets/js/main.4c5bf2f5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/payby-developer-doc/"><div class="navbar__logo"><img src="/payby-developer-doc/img/logo.svg" alt="PayBy Developer Website" class="themedImage_ToTc themedImage--light_HNdA"><img src="/payby-developer-doc/img/logo.svg" alt="PayBy Developer Website" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Developer</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/payby-developer-doc/docs/createorder">APIs</a><a class="navbar__item navbar__link" href="/payby-developer-doc/demos/overview">Demos</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/payby-developer-doc/docs/General/integration-guide">General</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/payby-developer-doc/docs/Online Payment Integration/overview">Online Payment Integration</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/payby-developer-doc/docs/Online Payment Integration/overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/payby-developer-doc/docs/Online Payment Integration/Checkout/hosted-paypage">Checkout</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/payby-developer-doc/docs/Online Payment Integration/Special Payment Scenes/ewallet">Special Payment Scenes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/payby-developer-doc/docs/Online Payment Integration/Plugins/magento/">Plugin</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/payby-developer-doc/docs/Online Payment Integration/best-practice">Best practice</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/payby-developer-doc/docs/Online Payment Integration/test-case">Test case</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/payby-developer-doc/docs/createorder">Payment</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/payby-developer-doc/docs/refund">Refund</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/payby-developer-doc/docs/Transfer to bank/list-countries-and-currencies">Transfer to bank</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/payby-developer-doc/docs/Transfer/">Transfer</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/payby-developer-doc/docs/Reconciliation/statement-download">Reconciliation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/payby-developer-doc/docs/Crypto Pay/order-creation">Crypto Pay</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/payby-developer-doc/docs/Crypto Top Up/deposit-address-query">Crypto Top Up</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/payby-developer-doc/docs/Digital Receipt/digital-receipts-creation">Digital Receipt</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/payby-developer-doc/docs/SDKs/inapp">SDKs</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/payby-developer-doc/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Online Payment Integration</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Test case</span><meta itemprop="position" content="2"></li></ul></nav><div class="theme-doc-markdown markdown"><h1>Test case</h1><p>Use the following integration cases to review your integration qualities. To create a good user experience, ensure that the common payment scenarios are properly handled.</p><p>Notes:</p><ul><li>Use iValidate ONLY when your product is ready to go live.</li><li>To simulate real payment scenarios, all test cases must be started by using PAYMENT TERMINALS, rather than by manually calling APIs.</li><li>After your product goes live, PayBy will analyze your transaction status and identify the hidden integration problems or problems casued by code changes.</li></ul><br><div><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Case-001 Payment with password authentication triggered</summary><div><div class="collapsibleContent_i85q"><div><p>When a single payment greater than or equals to a certain amount (usually is AED 500),PayBy users might be prompted to enter the password to complete the payment. This test case is to check whether your system can properly handle this scenario. </p><p>Acceptance rules: </p><p><a>- Both [Partner-Id] and [merchantOrderNo] are required in the request. </a></p><p><a>- The payment amount is greater than or equals to AED 500.</a></p><p><a>- Payment interface responds [status=CREATED].</a></p><p><a>- Send at least one query request.</a></p><p><a>- The query request frequency is 2-6 seconds.</a></p><p><a>- The last query request found that the transaction was successful.</a></p></div></div></div></details><br><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Case-002 Payment expires</summary><div><div class="collapsibleContent_i85q"><div><p>Sometimes PayBy users might choose not to continue when they are prompted to enter the password to complete the payment, and the payment finally expires. This test case is to check whether your system can properly handle this scenario. </p><p>Acceptance rules: </p><p><a>- Both [Partner-Id] and [merchantOrderNo] are required in the request. </a></p><p><a>- Payment interface responds [status=CREATED].</a></p><p><a>- Send at least one query request.</a></p><p><a>- The query request frequency is 2-6s.</a></p><p><a>- Send [cancelOrder] request 20 to 120 seconds after the transaction is initiated.</a></p></div></div></div></details><br><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Case-003 Payment failed with SYSTEM_ERROR returned</summary><div><div class="collapsibleContent_i85q"><div><p>SYSTEM_ERROR is returned when a payment request goes wrong. This test case is to check whether the system can handle the SYSTEM_ERROR according to the best practices recommended by PayBy. </p><p>Acceptance rules: </p><p><a>- Both [Partner-Id] and [merchantOrderNo] are required in the request. </a></p><p><a>- Payment interface responds SYSTEM_ERROR.</a></p><p><a>- Send at least one query request.</a></p><p><a>- The query request frequency is 2-6 seconds.</a></p><p><a>- Send [cancelOrder] request 20 to 120 seconds after the transaction is initiated.</a></p></div></div></div></details><br><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Case-004 Payment timeouts</summary><div><div class="collapsibleContent_i85q"><div><p>A payment request might timeout because of poor network or PayBy system error. This test case is to check whether the system can handle timeout errors according to the best practices recommended by PayBy. </p><p>Acceptance rules: </p><p><a>- Both [Partner-Id] and [merchantOrderNo] are required in the request. </a></p><p><a>- Payment interface responds SYSTEM_ERROR.</a></p><p><a>- Send at least one query request.</a></p><p><a>- The query request frequency is 2-6 seconds.</a></p><p><a>- Send [cancelOrder] request 20 to 120 seconds after the transaction is initiated.</a></p></div></div></div></details><br><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Case-005 Cancel succeeds after multiple attempts</summary><div><div class="collapsibleContent_i85q"><div><p>When a cancel fails, the merchant must keep calling CANCEL until the cancel succeeds. This test case simulates the scenario where cancel finally succeeds after multiple attempts. </p><p>Acceptance rules: </p><p><a>- Both [Partner-Id] and [merchantOrderNo] are required in the request. </a></p><p><a>- Send at least one query request.</a></p><p><a>- The query request frequency is 2-6 seconds.</a></p><p><a>- Send [cancelOrder] request 20 to 120 seconds after the transaction is initiated.</a></p><p><a>- The CANCEL request frequency is 3-10 seconds.</a></p><p><a>- At least three CANCEL requests are required, and only the last request returns SUCCESS.</a></p></div></div></div></details><br><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Case-006 Cancel fails after multiple attempts</summary><div><div class="collapsibleContent_i85q"><div><p>When a cancel fails, the merchant must keep calling CANCEL until at least more than 3 FAILs are returned, or until cancel requests keep failing for more than 10 seconds. If cancel still fails, the responsible person must be notified of the problem. In production environment, technical support must be contacted to confirm the transaction status and handle the problem. </p><p>Acceptance rules: </p><p><a>- Both [Partner-Id] and [merchantOrderNo] are required in the request. </a></p><p><a>- Send at least one query request.</a></p><p><a>- The query request frequency is 2-6 seconds.</a></p><p><a>- Send [cancelOrder] request 20 to 120 seconds after the transaction is initiated.</a></p><p><a>- The CANCEL request frequency is 3-10 seconds.</a></p><p><a>- CANCEL requests must be made at least 3 times, All requests returns failed.</a></p></div></div></div></details><br><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Case-007 Query succeeds after multiple attempts</summary><div><div class="collapsibleContent_i85q"><div><p>When a query fails, the merchant must keep calling QUERY until the query succeeds. This test case simulates the scenario where cancel finally succeeds after multiple attempts. </p><p>Acceptance rules: </p><p><a>- Both [Partner-Id] and [merchantOrderNo] are required in the request. </a></p><p><a>- Send at least three query requests.</a></p><p><a>- The query request frequency is 2-6 seconds.</a></p></div></div></div></details><br><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Case-008 Query fails after multiple attempts</summary><div><div class="collapsibleContent_i85q"><div><p>When a query fails, the merchant must keep calling QUERY until at least more than 3 FAILs are returned, or until reque requests keep failing for more than 10 seconds. If cancel still fails, the responsible person must be notified of the problem. In production environment, technical support must be contacted to confirm the transaction status and handle the problem.</p><p>Acceptance rules: </p><p><a>- Both [Partner-Id] and [merchantOrderNo] are required in the request. </a></p><p><a>- Send at least three query requests.</a></p><p><a>- The query request frequency is 2-6 seconds.</a></p></div></div></div></details><br><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Case-009 Return a [SUCCESS] response to PayBy after received the notification</summary><div><div class="collapsibleContent_i85q"><div><p>After the payment is successful, PayBy will send the payment result of the order and the user information to the merchant in the form of a data stream. The merchant needs to receive and process it, and return a [SUCCESS] response to PayBy.This test case is to check whether the system can handle the notification.</p><p>Acceptance rules: </p><p><a>- Receive and process the notification. </a></p><p><a>- [SUCCESS] is required in the return response. </a></p></div></div></div></details></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/payby-developer-doc/docs/Online Payment Integration/best-practice"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Best practice</div></a><a class="pagination-nav__link pagination-nav__link--next"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Payment</div></a></nav></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 PayBy, Inc. All Rights Reserved.</div></div></div></footer></div>
<script src="/payby-developer-doc/assets/js/runtime~main.996e3fce.js"></script>
<script src="/payby-developer-doc/assets/js/main.4c5bf2f5.js"></script>
</body>
</html>