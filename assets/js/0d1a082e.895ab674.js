"use strict";(self.webpackChunkdeveloper_official_site=self.webpackChunkdeveloper_official_site||[]).push([[6884],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>h});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var c=a.createContext({}),l=function(e){var t=a.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},p=function(e){var t=l(e.components);return a.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=l(r),h=n,m=u["".concat(c,".").concat(h)]||u[h]||d[h]||i;return r?a.createElement(m,o(o({ref:t},p),{},{components:r})):a.createElement(m,o({ref:t},p))}));function h(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,o=new Array(i);o[0]=u;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:n,o[1]=s;for(var l=2;l<i;l++)o[l]=r[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}u.displayName="MDXCreateElement"},60023:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var a=r(83117),n=(r(67294),r(3905));r(8209);const i={sidebar_position:6,toc_max_heading_level:6},o="Direct Pay",s={unversionedId:"Online Payment Integration/Special Payment Scenes/direct-pay",id:"Online Payment Integration/Special Payment Scenes/direct-pay",title:"Direct Pay",description:"PayBy provides API for card transactions for merchants to integrate, customers fill in card information on the merchant's page to complete the payment. The card information is encrypted and stored in PayBy and customers can pay by one click next time. This product provides merchants with a more flexible integration method and merchants can have full control of the UI elements.",source:"@site/docs/Online Payment Integration/Special Payment Scenes/direct-pay.md",sourceDirName:"Online Payment Integration/Special Payment Scenes",slug:"/Online Payment Integration/Special Payment Scenes/direct-pay",permalink:"/payby-developer-doc/docs/Online Payment Integration/Special Payment Scenes/direct-pay",draft:!1,tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6,toc_max_heading_level:6},sidebar:"tutorialSidebar",previous:{title:"JSAPI",permalink:"/payby-developer-doc/docs/Online Payment Integration/Special Payment Scenes/jsapi"},next:{title:"Plugin"}},c={},l=[{value:"User experience",id:"user-experience",level:3},{value:"Integrate the API",id:"integrate-the-api",level:3},{value:"Case1: New payer",id:"case1-new-payer",level:4},{value:"Case2: Use saved card",id:"case2-use-saved-card",level:4}],p={toc:l};function d(e){let{components:t,...i}=e;return(0,n.kt)("wrapper",(0,a.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"direct-pay"},"Direct Pay"),(0,n.kt)("p",null,"PayBy provides API for card transactions for merchants to integrate, customers fill in card information on the merchant's page to complete the payment. The card information is encrypted and stored in PayBy and customers can pay by one click next time. This product provides merchants with a more flexible integration method and merchants can have full control of the UI elements."),(0,n.kt)("br",null),(0,n.kt)("h3",{id:"user-experience"},"User experience"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"The customer confirms to pay for an order on the merchant's website or app."),(0,n.kt)("li",{parentName:"ol"},"If the customer is a new payer, he or she enters the card detail (Name, Card Number, CVV) to finish payment. If the customer has paid before and the merchant has stored the card details, just select the stored card and finish payment."),(0,n.kt)("li",{parentName:"ol"},"If the payment is completed, the customer will see the payment result on the merchant's website or app.")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"ue-direct",src:r(89994).Z,width:"1634",height:"1237"})),(0,n.kt)("br",null),(0,n.kt)("h3",{id:"integrate-the-api"},"Integrate the API"),(0,n.kt)("h4",{id:"case1-new-payer"},"Case1: New payer"),(0,n.kt)("p",null," If the customer is a new payer, when the customer confirms to pay, show the ",(0,n.kt)("strong",{parentName:"p"},"Bank card number"),", ",(0,n.kt)("strong",{parentName:"p"},"Expire date"),", ",(0,n.kt)("strong",{parentName:"p"},"Cardholdername"),", ",(0,n.kt)("strong",{parentName:"p"},"CVV"),", etc. input boxes on your page.",(0,n.kt)("br",null)),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"card",src:r(44446).Z,width:"457",height:"190"})),(0,n.kt)("p",null,"When the customer confirms to pay, call the ",(0,n.kt)("a",{parentName:"p",href:"/docs/createorder"},"Create order")," API,  follow the API description to create a request. Pass ",(0,n.kt)("inlineCode",{parentName:"p"},"DIRECTPAY")," in the ",(0,n.kt)("strong",{parentName:"p"},"paysceneCode")," parameter.",(0,n.kt)("br",null)),(0,n.kt)("br",null),(0,n.kt)("p",null,"If the request is successful, PayBy will proceed the request to bank and return the payment result to the customer. Create a success page for the URL you provided in the ",(0,n.kt)("strong",{parentName:"p"},"redirectUrl"),"  parameter to display order confirmation message to your customer. PayBy will redirect the payer to this page after the payment has been completed on the checkout.",(0,n.kt)("br",null)),(0,n.kt)("br",null),(0,n.kt)("p",null,"Usually, the payment can be completed after the user enters the card information, but sometimes the user is required to submit a 3DS verification. In this process, PayBy will return you a URL, and you direct the customer to an authentication page on their bank\u2019s website, and the customer enters a password associated with the card or a code sent to their phone. After successful verification, the transaction proceeds."),(0,n.kt)("br",null),(0,n.kt)("p",null,"If you feel that the customer's transaction requires a higher level of verification, you can actively initiate 3DS verification.The ",(0,n.kt)("strong",{parentName:"p"},"threeDSecure")," parameter is for the merchant to decide whether the transaction requires 3DS verification. If true, PayBy will return the verification link; if false, PayBy will debit the payment directly after submitting the payment request. The default is False. Note that, if PayBy's risk control system identifies that the transaction requires 3DS verification, even if the merchant passes false, the payer will be required for 3DS verification."),(0,n.kt)("br",null),(0,n.kt)("p",null,"The payer's card information can be saved for future use. In the parameter ",(0,n.kt)("strong",{parentName:"p"},"saveCard"),", if pass true, PayBy will return the ID of the card, so that the card ID can be passed directly instead of the card information when another transaction is made. A customer id can save multiple cards in PayBy."),(0,n.kt)("br",null),(0,n.kt)("p",null,"If the ",(0,n.kt)("strong",{parentName:"p"},"notify_url")," is set in the order creation request, after the transaction, PayBy will send payment result to the url.",(0,n.kt)("br",null)),(0,n.kt)("br",null),(0,n.kt)("p",null,"To change order status, you can initiate ",(0,n.kt)("a",{parentName:"p",href:"/docs/revoke"},"Revoke"),", ",(0,n.kt)("a",{parentName:"p",href:"/docs/cancel"},"Cancel"),", ",(0,n.kt)("a",{parentName:"p",href:"/docs/refund"},"Refund")," and other operations on the created order."),(0,n.kt)("br",null),(0,n.kt)("p",null,"To retrieve the order detail, call the ",(0,n.kt)("a",{parentName:"p",href:"/docs/retrieveorderdetail"},"Retrieve Order Detail")," API.",(0,n.kt)("br",null)),(0,n.kt)("br",null),(0,n.kt)("h4",{id:"case2-use-saved-card"},"Case2: Use saved card"),(0,n.kt)("p",null,"If the customer has paid before and the merchant has stored the card details, he or she can select the stored card and finish payment."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"savedcard",src:r(87107).Z,width:"550",height:"550"})),(0,n.kt)("p",null,"When the customer confirms to pay, call the ",(0,n.kt)("a",{parentName:"p",href:"/docs/createorder"},"Create order")," API,  follow the API description to create a request. Pass ",(0,n.kt)("inlineCode",{parentName:"p"},"DIRECTPAY")," in the ",(0,n.kt)("strong",{parentName:"p"},"paysceneCode")," parameter."),(0,n.kt)("br",null),(0,n.kt)("p",null,"When the customer's card is successfully saved in PayBy, PayBy will return the ",(0,n.kt)("strong",{parentName:"p"},"cardToken"),",  the unique identification number in PayBy. After the customer selects a card, pass this card's token in the ",(0,n.kt)("strong",{parentName:"p"},"cardToken")," parameter. "),(0,n.kt)("br",null),(0,n.kt)("p",null,"To change order status, you can initiate ",(0,n.kt)("a",{parentName:"p",href:"/docs/revoke"},"Revoke"),", ",(0,n.kt)("a",{parentName:"p",href:"/docs/cancel"},"Cancel"),", ",(0,n.kt)("a",{parentName:"p",href:"/docs/refund"},"Refund")," and other operations on the created order."),(0,n.kt)("br",null),(0,n.kt)("p",null,"If the ",(0,n.kt)("strong",{parentName:"p"},"notify_url")," is set in the order creation request, after the transaction, PayBy will send payment result to the url."),(0,n.kt)("br",null),(0,n.kt)("p",null,"To retrieve the order detail, call the ",(0,n.kt)("a",{parentName:"p",href:"/docs/retrieveorderdetail"},"Retrieve Order Detail")," API."),(0,n.kt)("br",null))}d.isMDXComponent=!0},44446:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/cardinfo-50865622aba6ba522a501db8cddd4781.png"},87107:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/savedcard-f08561ba05eb037a82c24c0c9796776c.png"},89994:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/ue-directpay-a037f157c697f8f3efed1af80a732d36.png"},8209:(e,t,r)=>{r(67294)}}]);